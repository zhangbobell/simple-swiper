var Device=function(){function t(t){this.hasTouch=!!("ontouchstart"in t&&!/Mac OS X /.test(t.navigator.userAgent)||t.DocumentTouch&&t.document instanceof t.DocumentTouch),this.startEvent=this.hasTouch?"touchstart":"mousedown",this.moveEvent=this.hasTouch?"touchmove":"mousemove",this.endEvent=this.hasTouch?"touchend":"mouseup",this.cancelEvent=this.hasTouch?"touchcancel":"mouseout",this.resizeEvent="resize"}return t.prototype.getDeviceEvent=function(t){var i=this.hasTouch?this.getTouchPosition(t):this.getMousePosition(t);return{type:t.type,position:i,target:t.target,button:t.button,preventDefault:t.preventDefault.bind(t)}},t.prototype.getTouchPosition=function(t){return t.targetTouches&&t.targetTouches.length>0?{X:t.targetTouches[0].pageX,Y:t.targetTouches[0].pageY}:{X:void 0,Y:void 0}},t.prototype.getMousePosition=function(t){return"pageX"in t?{X:t.pageX,Y:t.pageY}:{X:void 0,Y:void 0}},t}(),Swiper=function(){function t(t){if(this.$container=t.container,this.debug=t.debug||!1,this.data=t.data||[],this.axis=t.vertical?"Y":"X",this.initIndex=t.initIndex||0,this.loop=t.loop||!1,this.frr=t.frr>-1?parseInt(t.frr,10):10,this.sideLength="X"===this.axis?this.$container.clientWidth:this.$container.clientHeight,this.keepDefaultClasses=t.keepDefaultClasses||[],this.transition={duration:800},t.transition)for(var e in t.transition)t.transition.hasOwnProperty(e)&&(this.transition[e]=t.transition[e]);this._listeners={},this.sliding=!1,this.moving=!1,this.start=a,this.end=a,this.offset=a,this.pageChange=!1,this.moveDirection=i.nonward,this.activePage=s,this.lastActivePage=s,this.log=this.debug?console.log.bind(window.console):n,this.bindEvents(),this.initRender()}var i={forward:-1,backward:1,nonward:0},e={X:"Y",Y:"X"},s=document.createElement("div"),n=function(){},a={X:0,Y:0};return t.prototype.getDirectionKey=function(t){for(var e in i)if(i.hasOwnProperty(e)&&i[e]===t)return e},t.prototype.bindEvents=function(){this.$container.addEventListener(t.Device.startEvent,this),this.$container.addEventListener(t.Device.moveEvent,this),window.addEventListener(t.Device.endEvent,this),window.addEventListener(t.Device.resizeEvent,this,!1)},t.prototype.unbindEvents=function(){this.$container.removeEventListener(t.Device.startEvent,this),this.$container.removeEventListener(t.Device.moveEvent,this),window.removeEventListener(t.Device.endEvent,this),window.removeEventListener(t.Device.resizeEvent,this,!1)},t.prototype.handleEvent=function(i){var e=t.Device.getDeviceEvent(i);switch(e.type){case"mousedown":if(0!==e.button)break;case"touchstart":this.keepDefaultHandler(e),this.startHandler(e.position);break;case t.Device.moveEvent:this.keepDefaultHandler(e),this.moveHandler(e.position);break;case t.Device.endEvent:case t.Device.cancelEvent:this.endHandler();break;case t.Device.resizeEvent:this.resizeHandler()}},t.prototype.keepDefaultHandler=function(t){if(!t.target||!/^(input|textarea|a|select)$/i.test(t.target.tagName)){for(var i=this.keepDefaultClasses,e=0;e<i.length;e++)if(t.target.classList.contains(i[e]))return;t.preventDefault()}},t.prototype.startHandler=function(t){this.sliding||(this.moving=!0,this.log("start"),this.startTime=(new Date).getTime(),this.start=t,this.transition=this.currentPage.transition||this.transition,this.fire("swipeStart"))},t.prototype.moveHandler=function(t){if(!this.sliding&&this.moving&&(this.log("moving"),this.end=t,this.offset={X:this.end.X-this.start.X,Y:this.end.Y-this.start.Y},!(Math.abs(this.offset[this.axis])<this.frr))){this.offset[this.axis]<0?(this.moveDirection=i.forward,this.lastActivePage=this.activePage,this.activePage=this.currentPage.next):this.offset[this.axis]>0?(this.moveDirection=i.backward,this.lastActivePage=this.activePage,this.activePage=this.currentPage.prev):(this.moveDirection=i.nonward,this.lastActivePage=this.activePage,this.activePage=s),this.fire("swipeMoving"),this.activePage!==this.lastActivePage&&this.activePage!==s&&this.fire("activePageChanged"),this.offset[this.axis]=this.offset[this.axis]-this.moveDirection*this.frr;var e=this.getDirectionKey(this.moveDirection);(this.activePage===s||this.transition.direction===i.nonward||this.transition.direction&&this.transition.direction!==this.moveDirection)&&(this.offset[this.axis]=0);var n={forward:20,backward:this.sideLength-20};if(this.moveDirection*this.end[this.axis]>this.moveDirection*n[e]){var a=this.moveDirection===i.forward?"<--- near edge":"near edge ---\x3e";return this.log(a),this.endHandler()}this.pageChange=!0,this.render()}},t.prototype.endHandler=function(){if(!this.sliding&&this.moving){this.moving=!1,this.log("end"),(this.transition.direction===i.nonward||this.transition.direction&&this.transition.direction!==this.moveDirection)&&(this.offset[this.axis]=0),this.endTime=(new Date).getTime();var t=this.endTime-this.startTime>300?this.sideLength/3:14,s=Math.abs(this.offset[this.axis]),n=Math.abs(this.offset[e[this.axis]])<s;s>=t&&n?(this.pageChange=!0,this._swipeTo()):(this.moveDirection=-1*this.moveDirection,this.pageChange=!1,this._swipeTo(),this.fire("swipeRestore"))}},t.prototype.resizeHandler=function(){this.sliding||this.moving||(this.sideLength="X"===this.axis?this.$container.clientWidth:this.$container.clientHeight)},t.prototype._swipeTo=function(){function t(a){null===e&&(e=a),this.offset[this.axis]=s+(a-e)*this.moveDirection*n,this.moveDirection*this.offset[this.axis]<this.moveDirection*r?(this.render(),i(t.bind(this))):(this.offset[this.axis]=r,this.render())}if(!this.sliding){this.sliding=!0;var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,e=null,s=this.offset[this.axis],n=this.sideLength/this.transition.duration,a={forward:{unSwipe:0,swipe:-this.sideLength},backward:{unSwipe:0,swipe:this.sideLength},nonward:0},h=this.pageChange?"swipe":"unSwipe",r=a[this.getDirectionKey(this.moveDirection)][h]||0;i(t.bind(this))}},t.prototype.swipeTo=function(t,e){var n=this.currentPage.index;this.moveDirection=i.nonward,this.pageChange=!0,t>n?this.moveDirection=i.forward:t<n&&(this.moveDirection=i.backward),this.offset[this.axis]=this.moveDirection;var a=this.loop?(t+this.data.length)%this.data.length:t;this.activePage=this.$pages[a]||s,a!==n&&this.activePage!==s||(this.moveDirection=i.nonward,this.offset[this.axis]=0,this.pageChange=!1),this.transition=e||this.currentPage.transition||this.transition,this._swipeTo()},t.prototype.on=function(t,i){return t.split(" ").forEach(function(t){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(i)}.bind(this)),this},t.prototype.off=function(t,i){if(this._listeners[t]){var e=this._listeners[t].indexOf(i);e>-1&&this._listeners[t].splice(e,1)}return this},t.prototype.fire=function(t,i){return i=i||{},this._listeners[t]&&(i.name=t,this._listeners[t].forEach(function(t){t.call(this,i)}.bind(this))),this},t.prototype.destroy=function(){this.unbindEvents(),this._listeners={},this.$container.style.overflow="",this.$swiper.parentElement.removeChild(this.$swiper),this.fire("destroy")},t.prototype.initRender=function(){this.$swiper=document.createElement("div"),this.$swiper.classList.add("lg-swiper"),this.$pages=this.data.map(function(t,i){var e=document.createElement("div");return e.classList.add("lg-swiper-page"),"string"==typeof t.content?e.innerHTML=t.content:e.appendChild(t.content),e.index=i,e.transition=t.transition,this.initIndex===i&&(e.classList.add("current"),this.currentPage=e),this.$swiper.appendChild(e),e}.bind(this)),this.$pages.forEach(function(t,i,e){var n=this.loop?(e.length+i-1)%e.length:i-1,a=this.loop?(e.length+i+1)%e.length:i+1;t.prev=this.$pages[n]||s,t.next=this.$pages[a]||s}.bind(this)),this.$container.style.overflow="hidden",this.$container.appendChild(this.$swiper)},t.prototype.render=function(){var t=this.axis,i=this.offset[t];if(this.lastActivePage!==this.activePage&&(this.lastActivePage.classList.remove("active"),this.lastActivePage.style.cssText="",this.activePage!==s&&this.activePage.classList.add("active")),this.log("offset : "+i),!1===this.pageChange&&0===i)return this.$swiper.style.cssText="",this.currentPage.style.cssText="",this.activePage.style.cssText="",this.activePage.classList.remove("active"),this.activePage=s,this.lastActivePage=s,this.sliding=!1,this.pageChange=!1,this.fire("swipeRestored");if(!0===this.pageChange&&i===this.moveDirection*this.sideLength)return this.$swiper.style.cssText="",this.currentPage.style.cssText="",this.activePage.style.cssText="",this.currentPage.classList.remove("current"),this.activePage.classList.remove("active"),this.activePage.classList.add("current"),this.currentPage=this.activePage,this.activePage=s,this.lastActivePage=s,this.offset.X=0,this.offset.Y=0,this.sliding=!1,this.pageChange=!1,this.fire("swipeChanged");var e=this.slide({axis:t,sideOffset:i,sideLength:this.sideLength});this.currentPage.style.cssText=e.currentPage,this.activePage!==s&&(this.activePage.style.cssText=e.activePage)},t.prototype.slide=function(t){var i=t.axis,e=t.sideOffset,s=t.sideLength;return{currentPage:"-webkit-transform: translateZ(0) translate"+i+"("+e+"px);",activePage:"-webkit-transform: translateZ(0) translate"+i+"("+(e-this.sign(e)*s)+"px);"}},t.prototype.sign=function(t){return 0==(t=+t)||isNaN(t)?0:t>0?1:-1},t}();Swiper.Device=new Device(window);